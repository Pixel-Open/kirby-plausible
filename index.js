(function(){"use strict";function t(i,e,a,d,p,f,m,c){var s=typeof i=="function"?i.options:i;return e&&(s.render=e,s.staticRenderFns=a,s._compiled=!0),s._scopeId="data-v-"+f,{exports:i,options:s}}const r={props:{plausibleLink:{type:String,default:"",validator:i=>{if(!i)return!0;try{return new URL(i).hostname==="plausible.io"}catch{return!1}}},height_iframe:{type:Number,default:2e3,validator:i=>i>0&&i<=1e4}},data(){return{showErrorMessage:!1,iframeLoaded:!1}},computed:{isValidPlausibleLink(){return this.plausibleLink&&this.plausibleLink.trim()!==""},iframeSrc(){if(!this.isValidPlausibleLink)return"";const i=this.plausibleLink.includes("?")?"&":"?";return`${this.plausibleLink}${i}embed=true&theme=light&background=%23efefef`},iframeHeight(){return`${this.height_iframe}px`}},methods:{onIframeLoad(){this.iframeLoaded=!0,this.showErrorMessage=!1},onIframeError(){this.showErrorMessage=!0}}};var l=function(){var e=this,a=e._self._c;return a("k-panel-inside",[a("k-view",{staticClass:"k-plausible-view"},[a("k-header",[e._v(e._s(e.$t("pixelopen.plausible.panel.title")))]),e.isValidPlausibleLink?a("iframe",{ref:"plausibleIframe",staticClass:"plausible-iframe",attrs:{"plausible-embed":"",src:e.iframeSrc,width:"100%",height:e.iframeHeight,loading:"lazy",scrolling:"no",frameborder:"0"},on:{load:e.onIframeLoad,error:e.onIframeError}}):a("div",{staticClass:"k-plausible-nolink"},[a("code",[e._v(e._s(e.$t("pixelopen.plausible.panel.nolink")))])]),a("div",{directives:[{name:"show",rawName:"v-show",value:e.showErrorMessage,expression:"showErrorMessage"}],ref:"noIframe",staticClass:"k-item",attrs:{"data-has-image":"true","data-layout":"list"}},[a("figure",{staticClass:"k-frame k-icon-frame k-item-image k-plausible-error-icon"},[a("svg",{staticClass:"k-icon",attrs:{"aria-hidden":"true","data-type":"alert"}},[a("use",{attrs:{"xlink:href":"#icon-alert"}})])]),a("div",{staticClass:"k-item-content"},[a("h3",{staticClass:"k-item-title"},[a("span",[e._v(e._s(e.$t("pixelopen.plausible.panel.noiframe")))])])])])],1)],1)},n=[],o=t(r,l,n,!1,null,"d3af17b9");const u=o.exports;panel.plugin("pixelopen/kirby-plausible",{components:{plausible:u}})})();
